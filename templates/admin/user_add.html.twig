{% extends "admin/layout.html.twig" %}
{% block content %}
<h1>Add new users</h1>

{% if error != null %}
    <div class="alert alert-danger" role="alert">
        <i class="fa fa-exclamation-circle"></i>
        {{ error }}
    </div>
{% endif %}

{% if form.vars['errors'] is not empty %}
    <div class="alert alert-danger" role="alert">
     {{ form_errors(form) }}
    </div>
{% endif %}

<form action="#" method="post" name="frmUser" id="frmUser">

<!-- custom form -->
    <div class="form-group form-group form-group">
        
        {% if postfix is defined %}
            <div class="input-group">
              {{ form_row(form._username,  {'id': '_username', 'attr': { 'autofocus': 'autofocus' } } ) }}
                
                <div class="input-group-addon">{{ postfix|star|raw }}</div>
            </div>
        {% else %}
             {{ form_row(form._username,  {'id': '_username', 'attr': { 'autofocus': 'autofocus' } } ) }}
        {% endif %}
         <div id="chkUserExist" style="dispaly:none;"></div> 
    </div>
    <div class="form-group form-group">
         {{ form_row(form._email, { 'id': '_email' }) }}
    </div>
    <div class="form-group form-group">
         {{ form_row(form._password, { 'id': '_password' }) }}
    </div>
    
    <div class="form-group form-group">
         {{ form_row(form._password2, { 'id': '_password2' }) }}
    </div>

    <div class="buttonbox">
        <button type="submit" class="btn btn-success" id="btnSubmit" name="btnSubmit">
            <i class="fa fa-server"></i>
            Save
        </button>
        <a href="{{ path('admin_user_list') }}" class="btn btn-default" role="button">
            <i class="fa fa-arrow-left"></i>
            Back
        </a>
    </div>     
    {{ form_rest(form) }}
</form>


<script type="text/javascript">
    window.checkUser = {url: "{{ path('admin_user_check') }}" };
</script>
{% endblock %}